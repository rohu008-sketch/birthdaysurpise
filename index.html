<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Simran 🎂💕</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --note-grey: #e8e9ea;
      --note-silver: #f2f3f7;
      --note-plat: #fafcff;
      --note-text: #444;
      --accent: #ff5fa2;
      --flower: #eb4ca0;
      --heart: #ff5578;
      --stage-shadow: 0 10px 48px 0 #e83e8c38;
    }
    html, body {
      margin: 0; padding: 0;
      min-height: 100vh; min-width: 100vw;
      font-family: 'Montserrat', sans-serif;
      overflow-x: hidden;
      background: url('background.jpg') center center/cover no-repeat, linear-gradient(135deg, #ffb6d5 60%, #fff9f5 100%);
      background-blend-mode: lighten;
      position: relative;
      scroll-behavior: smooth;
    }
    body { transition: background 1s; }
    .bg-hearts {
      pointer-events: none;
      position: fixed;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      z-index: 0;
      overflow: hidden;
    }
    .heart-emoji, .face-emoji {
      position: absolute;
      font-size: 2rem;
      animation: floatHeart 10s linear infinite;
      opacity: 0.7;
      pointer-events: none;
      user-select: none;
      will-change: transform;
    }
    .face-emoji {
      font-size: 2.2rem;
      animation: floatFace 13s linear infinite;
      opacity: 0.97;
    }
    @keyframes floatHeart {
      0% { transform: translateY(110vh) scale(1) rotate(0deg);}
      40% { opacity: 1; }
      100% { transform: translateY(-20vh) scale(1.3) rotate(30deg); opacity: 0.5;}
    }
    @keyframes floatFace {
      0% { transform: translateY(120vh) scale(1) rotate(-8deg);}
      40% { opacity: 1; }
      100% { transform: translateY(-25vh) scale(1.2) rotate(7deg); opacity: 0.6;}
    }
    .page {
      min-height: 100vh; min-width: 100vw;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 2;
      position: absolute;
      left: 0; top: 0;
      background: none;
      width: 100vw;
      animation: fadeInPage 1s;
    }
    .page.active { display: flex; animation: fadeInPage 0.8s;}
    @keyframes fadeInPage {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    /* 1. BIRTHDAY WISHES */
    .birthday-heading {
      font-family: 'Pacifico', cursive;
      font-size: 2.5rem;
      color: #d10b72;
      font-weight: bold;
      font-style: italic;
      margin-bottom: 2.2rem;
      letter-spacing: 2px;
      text-shadow: 0 4px 24px #fff9f5, 0px 2px 4px #f766a6, 0 2px 4px #fff;
      filter: drop-shadow(0 4px 8px #fff5) drop-shadow(0 0px 5px #f766a6a2);
      background: rgba(255,255,255,0.08);
      border-bottom: 4px solid #ffb6d5;
      border-radius: 2em 2em 0 0;
      padding: 0.2em 0.4em;
      overflow: hidden;
      white-space: pre-line;
      animation: dancingMove 3s linear infinite alternate, dance 1.2s infinite alternate;
    }
    @keyframes dance {
      0% {transform: scale(1) rotate(-2deg);}
      35% {transform: scale(1.04) rotate(3deg);}
      65% {transform: scale(0.97) rotate(-4deg);}
      100% {transform: scale(1) rotate(0deg);}
    }
    @keyframes dancingMove {
      0%{transform:translateY(0);}
      8%{transform:translateY(-7px);}
      16%{transform:translateY(4px);}
      24%{transform:translateY(-6px);}
      32%{transform:translateY(3px);}
      40%{transform:translateY(-8px);}
      48%{transform:translateY(6px);}
      56%{transform:translateY(-3px);}
      64%{transform:translateY(2px);}
      72%{transform:translateY(-2px);}
      80%{transform:translateY(0);}
      100%{transform:translateY(0);}
    }
    .btn {
      font-family: 'Pacifico', cursive;
      background: linear-gradient(90deg, #ffb6d5 30%, #fff9f5 100%);
      color: #e83e8c;
      border: none;
      outline: none;
      padding: 1rem 2.7rem;
      border-radius: 35px;
      font-size: 1.35rem;
      font-weight: bold;
      box-shadow: 0 4px 24px 0 #e83e8c33;
      margin: 1.4rem 0;
      cursor: pointer;
      transition: all 0.18s;
      letter-spacing: 1.1px;
      z-index: 2;
      text-shadow: 0 1px 6px #fff7;
      animation: pulseBtn 1.4s infinite alternate;
    }
    @keyframes pulseBtn {
      0% {box-shadow: 0 2px 8px #ffb6d5;}
      100% {box-shadow: 0 8px 24px #ffb6d544;}
    }

    /* 2. CAKE */
    .cake-area{ display:flex; flex-direction:column; align-items:center; gap:10px; }
    .cake-emoji{ font-size:110px; transition: transform 420ms cubic-bezier(.2,.9,.23,1); filter: drop-shadow(0 6px 22px #ffb6d5);}
    .candles{ display:flex; gap:10px; justify-content:center; margin-top:-6px; }
    .candle{ width:14px; height:36px; border-radius:6px; background:#ffe4b5; position:relative; }
    .flame{ position:absolute; left:50%; top:-18px; transform:translateX(-50%); width:18px; height:22px; border-radius:50%;
            background: radial-gradient(circle at 40% 30%, #ffd700 60%, #ff8c00 100%); animation:flicker 1.08s infinite alternate; }
    @keyframes flicker{ from{transform:translateX(-50%) scaleY(1);} to{transform:translateX(-50%) scaleY(1.12);} }
    #cutHint{ font-size:0.95rem; color:rgba(0,0,0,0.52); }

    /* Balloons */
    .balloon {
      position: absolute; bottom: -180px;
      width: 52px; height: 84px;
      border-radius: 32px 32px 32px 32px / 44px 44px 44px 44px;
      animation: floatBalloon 7s linear infinite;
      z-index: 2; opacity: 0.97;
    }
    .balloon1 { background: #ff5fa2; left: 15vw; animation-delay: 0.2s;}
    .balloon2 { background: #f9c7eb; left: 35vw; animation-delay: 1.1s;}
    .balloon3 { background: #ffd1ea; left: 60vw; animation-delay: 0.9s;}
    .balloon4 { background: #ff7b54; left: 80vw; animation-delay: 2.4s;}
    .balloon5 { background: #ffb700; left: 50vw; animation-delay: 1.6s;}
    @keyframes floatBalloon {
      0% {bottom: -180px; transform: translateY(0) scale(1);}
      60% {transform: translateY(-15px) scale(1.08);}
      100% {bottom: 120vh; transform: translateY(-60vh) scale(1.07);}
    }
    .balloon:after {
      content: '';
      display: block;
      width: 2px; height: 36px;
      background: #888;
      margin: 0 auto;
      position: absolute;
      left: 50%; transform: translateX(-50%);
      top: 60px;
      opacity: 0.3;
    }
    .confetti {
      position: fixed; left: 0; top: 0;
      width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 8; overflow: hidden;
    }
    .confetti-piece {
      position: absolute;
      width: 12px; height: 18px;
      border-radius: 3px;
      opacity: 0.82;
      animation: confettiFall 3.4s linear infinite;
      will-change: transform;
    }
    @keyframes confettiFall {
      0% {transform: translateY(-100px) rotate(0deg);}
      100% {transform: translateY(110vh) rotate(180deg);}
    }

    /* 3. PHOTOS: 2x2 grid */
    .gallery-box {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2vw 2vw;
      justify-content: center;
      align-items: center;
      margin: 2.4rem 0 1.4rem 0;
      width: 100%;
      max-width: 650px;
      min-height: 320px;
    }
    .gallery-img {
      width: 100%; aspect-ratio: 0.8;
      background: #fff;
      border-radius: 22px;
      box-shadow: 0 6px 24px #e83e8c28, 0 4px 12px #fff2;
      object-fit: cover;
      opacity: 0;
      transform: scale(0.92) translateY(38px);
      animation: fadeInPhoto 1.1s forwards;
      border: 4px solid #ffb6d5;
    }
    .gallery-img:nth-child(1) { animation-delay: 0.7s; }
    .gallery-img:nth-child(2) { animation-delay: 1.2s; }
    .gallery-img:nth-child(3) { animation-delay: 1.7s; }
    .gallery-img:nth-child(4) { animation-delay: 2.1s; }
    @keyframes fadeInPhoto {
      to {opacity: 1; transform: scale(1) translateY(0);}
    }
    @media (max-width: 600px) {
      .gallery-box { grid-template-columns: 1fr; }
      .gallery-img { max-width: 99vw; min-width: 140px; }
    }

    /* 4. STAGE NOTES */
    .stage-note-wrapper {
      width: 100vw; min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      background: transparent;
      position: relative; overflow: hidden;
      background: none;
      animation: fadeInPage 1s;
    }
    .stage-paper {
      position: relative;
      width: 330px; height: 330px;
      background: repeating-linear-gradient(-45deg, #fafcff, #fafcff 20px, #f2f3f7 21px, #f2f3f7 38px);
      border-radius: 26px;
      box-shadow: 0 8px 44px #d81b6044, 0 4px 6px #fff6;
      margin: 2rem 0;
      padding: 1.2rem 0.7rem 1.8rem 0.7rem;
      border: 4.5px dashed #ffb6d5;
      z-index: 3; overflow: hidden;
      display: flex; justify-content: center; align-items: center; flex-direction: column;
      transition: box-shadow 0.5s, transform 0.6s;
      animation: popin 0.7s;
      background-image: url('background.jpg'), repeating-linear-gradient(-45deg, #fafcff, #fafcff 20px, #f2f3f7 21px, #f2f3f7 38px);
      background-size: cover, auto;
      background-position: center, center;
      border: 8px double #ffb6d5;
    }
    @keyframes popin {
      from {opacity:0; transform:scale(0.7) rotate(-9deg);}
      60% {opacity:1; transform:scale(1.08) rotate(10deg);}
      to {opacity:1; transform:scale(1) rotate(0);}
    }
    .stage-paper .emojibg {
      position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0;
      font-size: 2.2rem; opacity: 0.15; display: flex; flex-wrap: wrap; justify-content: center; align-items: center;
      animation: bgFloat 5s infinite alternate;
    }
    .stage-paper .emojibg span {
      margin: 5px;
      animation: bgSpin 4s infinite alternate;
      display: inline-block;
    }
    @keyframes bgFloat {
      from {transform: translateY(0);}
      to {transform: translateY(10px);}
    }
    @keyframes bgSpin {
      from {transform: rotate(-7deg);}
      to {transform: rotate(11deg);}
    }
    .stage-paper .flowers-top, .stage-paper .flowers-bottom {
      position:absolute; left: 0; right: 0; text-align:center; width:100%;
      font-size: 1.6rem; pointer-events: none; z-index: 5; letter-spacing: 0.4rem; filter: drop-shadow(0 2px 6px #fff);
    }
    .stage-paper .flowers-top { top: 9px; }
    .stage-paper .flowers-bottom { bottom: 9px;}
    .stage-paper .hearts-corner {
      position: absolute; z-index: 6; font-size:2.1rem; opacity:0.4;
    }
    .stage-paper .hearts-corner.tl {top:8px; left:14px;}
    .stage-paper .hearts-corner.tr {top:8px; right:14px;}
    .stage-paper .hearts-corner.bl {bottom:8px; left:14px;}
    .stage-paper .hearts-corner.br {bottom:8px; right:14px;}
    .note-square {
      width: 89%; min-height: 120px; background: #fff7;
      border-radius: 18px; padding: 1.2rem 1rem 1rem 1.1rem; margin: 0.5rem auto;
      box-shadow: 0 4px 16px #f1f1f4a4, 0 1px 2px #e83e8c40;
      color: var(--note-text); font-size: 1.1rem; font-weight: 700;
      font-family: 'Montserrat', cursive;
      letter-spacing: 1.1px; display: flex; flex-direction: column;
      align-items: center; position: relative; z-index: 2; border: 1.7px solid #ffb6d5;
      background-clip: padding-box; text-align: center; transition: background 0.5s;
      animation: fadeInNote 1.13s;
    }
    .note-color-1 { background: #fde7f7; }
    .note-color-2 { background: #f6f6fa; }
    .note-color-3 { background: #f6fdff; }
    @keyframes fadeInNote {
      from {opacity: 0; transform: scale(0.91) translateY(40px);}
      to {opacity: 1; transform: scale(1) translateY(0);}
    }
    .stage-btns {
      display: flex; gap: 1.5rem; margin-top: 1.7rem;
      justify-content: center; align-items: center; width: 100%;
    }
    .stage-btn {
      font-family: 'Pacifico', cursive;
      background: linear-gradient(90deg, #ffb6d5 30%, #fff9f5 100%);
      color: #e83e8c;
      border: none;
      outline: none;
      padding: 0.7rem 2rem;
      border-radius: 16px;
      font-size: 1.05rem;
      font-weight: bold;
      box-shadow: 0 4px 10px 0 #e83e8c33;
      cursor: pointer;
      letter-spacing: 1.1px;
      z-index: 2;
      text-shadow: 0 1px 6px #fff7;
      transition: background 0.2s;
    }
    .stage-btn:active { background: #ffb6d5; }
    .stage-btn:focus { outline: 2px solid #ffb6d5; }

    /* 5. TRANSITION PAGE */
    .transition-content {
      display: flex; flex-direction: column; align-items: center;
      background: linear-gradient(120deg, #fff9f5 60%, #ffe3f7 100%);
      border-radius: 34px 60px 36px 33px/60px 32px 38px 22px;
      box-shadow: 0 8px 40px #d81b6040, 0 4px 12px #fff9;
      padding: 2.3rem 1.4rem 2.2rem 2.2rem;
      width: 96vw; max-width: 430px;
      margin: 2.1rem 0 1.2rem 0;
      position: relative;
      border: 4px dashed #ffb6d5;
      animation: popin 0.8s;
    }
    .rope {
      position: absolute; left: 50%; transform: translateX(-50%);
      top: -32px; width: 108px; height: 54px; z-index: 2;
    }
    .rope svg { width: 100%; height: 100%; display: block; }
    .transition-img-group {
      display: flex; gap: 22px; align-items: flex-end; justify-content: center; margin-top: 1.3rem;
    }
    .transition-img {
      border-radius: 20px;
      box-shadow: 0 4px 18px #e83e8c29;
      width: 80px; height: 100px; object-fit: cover;
      border: 4px solid #ffe3f7;
      position: relative; background: #fff;
      animation: popin 0.6s;
    }
    .transition-img.now {
      width: 94px; height: 118px; border: 5px solid #ffb6d5;
    }
    .transition-age {
      font-size: 1.18rem; font-weight: bold; color: #d81b60; text-align:center;
      margin: 1.4rem 0; letter-spacing: 1.1px;
      animation: popin 0.9s;
    }
    .transition-btn { margin-top: 1.6rem; display: flex; justify-content: center; width: 100%;}

    /* 6. QUIZ */
    .quiz-container {
      background: linear-gradient(135deg, #fff9f5 60%, #ffe3f7 100%);
      border-radius: 24px 44px 21px 44px/44px 44px 44px 44px;
      box-shadow: 0 8px 32px #d81b6040, 0 4px 12px #fff9;
      padding: 1.8rem 1.2rem 2.2rem 2.2rem;
      width: 97vw; max-width: 420px;
      margin: 2.1rem 0 1.2rem 0;
      display: flex; flex-direction: column; align-items: center;
      border: 4px double #ffb6d5;
      min-height: 330px; animation: popin 0.8s;
    }
    .quiz-q {
      font-family: 'Pacifico', cursive;
      font-size: 1.35rem;
      color: #d10b72;
      text-align:center;
      margin-bottom: 1.4rem;
      font-weight: bold;
      min-height: 46px;
    }
    .quiz-options {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.2rem 1.2rem;
      width: 100%;
    }
    .quiz-option {
      background: linear-gradient(120deg,#ffe3f7 80%, #fff9f5 100%);
      border-radius: 18px;
      padding: 0.9rem 1.25rem;
      font-size: 1.08rem;
      color: #e83e8c;
      margin: 0;
      border: 2.2px solid #ffd1ea;
      font-family: 'Montserrat', cursive;
      font-weight: 600;
      box-shadow: 0 2px 10px #ffb6d544;
      cursor: pointer;
      transition: background 0.14s, border 0.14s;
      outline: none;
      margin-bottom: 0.2rem;
      margin-top: 0.2rem;
    }
    .quiz-option.selected {
      background: linear-gradient(120deg,#ffb6d5 90%, #fff9f5 100%);
      border: 2.2px solid #e83e8c;
      color: #d81b60;
      transform: scale(1.06);
    }
    .quiz-next-btn { margin-top: 1.7rem;}
    .quiz-final-msg {
      font-size: 1.22rem; color: #d81b60; font-family: 'Pacifico',cursive;
      text-align:center; margin-top: 1.1em; font-weight: bold; letter-spacing: 1.1px;
      animation: pulseBtn 1.1s infinite alternate;
    }

    /* 7. FINAL PAGE */
    .final-heading {
      font-family: 'Pacifico', cursive;
      font-size: 2.2rem;
      color: #d10b72;
      font-weight: bold;
      font-style: italic;
      margin-bottom: 2.2rem;
      text-align:center; letter-spacing: 2px;
      text-shadow: 0 4px 24px #fff9f5, 0px 2px 4px #f766a6, 0 2px 4px #fff;
      filter: drop-shadow(0 4px 8px #fff5) drop-shadow(0 0px 5px #f766a6a2);
      background: none; white-space: pre-line;
      animation: finalStar 2.2s infinite alternate;
    }
    @keyframes finalStar {
      0%{transform:scale(1) rotate(-2deg);}
      50%{transform:scale(1.04) rotate(2deg);}
      100%{transform:scale(1) rotate(0deg);}
    }
    .teddy-heart {
      font-size: 3rem; margin: 0 1.1rem;
      animation: pulseTeddy 1.2s infinite alternate;
    }
    @keyframes pulseTeddy { to { transform: scale(1.12);} }
    @media (max-width: 520px) {
      .gallery-box { grid-template-columns: 1fr; }
      .gallery-img { max-width: 99vw; min-width: 140px; }
      .stage-paper, .quiz-container, .transition-content { padding: 1.2rem 0.4rem 1.7rem 0.7rem; }
      .stage-paper { width: 98vw; height: 330px; }
      .transition-img, .transition-img.now {width: 63px; height: 80px;}
      .transition-img.now {width: 78px; height: 99px;}
    }
  </style>
</head>
<body>
  <!-- Background Floating Hearts and Faces -->
  <div class="bg-hearts" id="bgHearts"></div>
  <!-- Confetti -->
  <div class="confetti" id="confetti"></div>
  <!-- Balloons -->
  <div id="balloons"></div>
  <!-- Pages -->
  <!-- PAGE 1: Birthday -->
  <div class="page active" id="page1">
    <div class="birthday-heading">
      <b><i>Happy Birthday dear Simran, hope you enjoy the day 💕</i></b>
    </div>
    <button class="btn" id="celebrateBtn">Celebrate 🎉</button>
  </div>
  <!-- PAGE 2: Cake -->
  <div class="page" id="page2">
    <section id="cake" class="section center" aria-labelledby="cakeTitle">
      <h2 id="cakeTitle" style="margin:6px 0 16px 0; color:#e83e8c;">Cake Time</h2>
      <div class="cake-area">
        <div id="cakeEmoji" class="cake-emoji" title="Cake">🎂</div>
        <div class="candles" aria-hidden="true" id="candles">
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
        </div>
        <div id="cutHint" class="small-muted">Click the button to cut the cake</div>
        <div style="margin-top:8px;">
          <button id="cutCakeBtn" class="btn">Cut Cake 🎉</button>
        </div>
      </div>
    </section>
    <button class="btn" id="toPhotoBtn" style="margin-top:2.2rem; display:none;">Surprise Photos 🎁</button>
  </div>
  <!-- PAGE 3: Photos -->
  <div class="page" id="page3">
    <div class="birthday-heading" style="font-size: 2rem;">A Surprise For You 📷</div>
    <div class="gallery-box" id="galleryBox">
      <img src="photo.jpg" alt="Simran 1" class="gallery-img" style="animation-delay:0.7s;">
      <img src="photo1.jpg" alt="Simran 2" class="gallery-img" style="animation-delay:1.2s;">
      <img src="photo2.jpg" alt="Simran 3" class="gallery-img" style="animation-delay:1.7s;">
      <img src="photo3.jpg" alt="Simran 4" class="gallery-img" style="animation-delay:2.1s;">
    </div>
    <button class="btn" id="toNotesBtn" style="margin-top:1.7rem; display:none;">Special Notes 💌</button>
  </div>
  <!-- PAGE 4+: Special Notes Stage -->
  <div class="page" id="stagePage">
    <div class="stage-note-wrapper">
      <div class="stage-paper" id="stagePaper">
        <div class="emojibg">
          <span>💖</span><span>🌸</span><span>💕</span><span>🌺</span><span>💗</span>
          <span>💞</span><span>💓</span><span>🌷</span><span>💝</span><span>💟</span>
        </div>
        <div class="flowers-top">🌹🌺🌸🌷🌻</div>
        <div class="hearts-corner tl">💖</div>
        <div class="hearts-corner tr">💞</div>
        <div class="hearts-corner bl">💗</div>
        <div class="hearts-corner br">💕</div>
        <div class="note-square note-color-1" id="noteContent"></div>
        <div class="flowers-bottom">🌺🌸🌹🌼🌻</div>
      </div>
    </div>
    <div class="stage-btns">
      <button class="stage-btn" id="prevNoteBtn" style="display:none;">Prev</button>
      <button class="stage-btn" id="nextNoteBtn">Next</button>
    </div>
  </div>
  <!-- PAGE 5: Transition (age, rope, baby-now images) -->
  <div class="page" id="transitionPage">
    <div class="transition-content">
      <div class="rope">
        <svg viewBox="0 0 108 54"><path d="M10 27 Q54 12,98 27" stroke="#fd7eb6" stroke-width="4" fill="none"/><circle cx="10" cy="27" r="8" fill="#ffd1ea"/><circle cx="98" cy="27" r="8" fill="#ffd1ea"/></svg>
      </div>
      <div class="transition-img-group">
        <img src="baby.jpg" alt="baby Simran" class="transition-img">
        <img src="photo2.jpg" alt="Simran now" class="transition-img now">
      </div>
      <div class="transition-age" id="ageDetail"></div>
      <div class="transition-btn">
        <button class="btn" id="toQuizBtn">Play Game 🎊</button>
      </div>
    </div>
  </div>
  <!-- PAGE 6: Quiz Game -->
  <div class="page" id="quizPage">
    <div class="quiz-container">
      <div class="quiz-q" id="quizQ"></div>
      <div class="quiz-options" id="quizOptions"></div>
      <button class="btn quiz-next-btn" id="quizNextBtn" style="display:none;">Next</button>
      <div class="quiz-final-msg" id="quizFinalMsg" style="display:none;"></div>
    </div>
  </div>
  <!-- PAGE 7: Final -->
  <div class="page" id="finalPage">
    <div class="final-heading">
      <b><i>You are the brightest star of your life, keep glowing!</i></b><br>
      <span style="font-size:2.2rem;">Happie... birthday Simran 🎂🎉</span><br>
      <br>
      <span style="font-size:1.5rem;">Hope you like the surprise, share your experience!</span>
      <br>
      <span class="teddy-heart">🐻 🧸 ❤️❤️❤️</span>
    </div>
  </div>
  <!-- Music -->
  <audio id="bdayMusic" src="music.mp3" preload="auto"></audio>
  <script>
    // Floating hearts & faces
    const heartEmojis = Array(20).fill("💕");
    const faceEmojis = ["🥰","😍","😚","😻","😇","😃","😘"];
    const bgHearts = document.getElementById('bgHearts');
    function randomPos(max) { return Math.random() * max; }
    heartEmojis.forEach((em, i) => {
      const span = document.createElement('span');
      span.className = 'heart-emoji';
      span.style.left = randomPos(95) + 'vw';
      span.style.top = randomPos(80) + 'vh';
      span.style.animationDelay = (i*0.3 + Math.random()) + 's';
      span.style.fontSize = (1.4 + Math.random()*1.8) + 'rem';
      span.innerText = em;
      bgHearts.appendChild(span);
    });
    faceEmojis.forEach((em, i) => {
      const span = document.createElement('span');
      span.className = 'face-emoji';
      span.style.left = randomPos(90) + 'vw';
      span.style.top = randomPos(75) + 'vh';
      span.style.animationDelay = (i*0.7 + Math.random()*2) + 's';
      span.innerText = em;
      bgHearts.appendChild(span);
    });

    // Confetti
    function createConfetti() {
      const confetti = document.getElementById('confetti');
      confetti.innerHTML = '';
      for(let i=0; i<48; i++){
        const d = document.createElement('div');
        d.className = 'confetti-piece';
        d.style.left = randomPos(98) + 'vw';
        d.style.background = i%5==0? "#ffb6d5" : i%3==0? "#ffd1ea" : i%2==0? "#ff5fa2" : "#fff9f5";
        d.style.animationDelay = (Math.random()*2) + "s";
        confetti.appendChild(d);
      }
    }
    function showConfetti(show=true) {
      document.getElementById('confetti').style.display = show?'block':'none';
    }
    // Balloons
    function createBalloons() {
      const balloons = document.getElementById('balloons');
      balloons.innerHTML = '';
      for(let i=1;i<=5;i++){
        const balloon = document.createElement('div');
        balloon.className = `balloon balloon${i}`;
        balloons.appendChild(balloon);
      }
    }
    function showBalloons(show=true) {
      document.getElementById('balloons').style.display = show?'block':'none';
    }
    // Multi-page navigation
    function showPage(id) {
      Array.from(document.querySelectorAll('.page')).forEach(
        p=>p.classList.remove('active')
      );
      document.getElementById(id).classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    }

    // 1. Celebrate Button
    document.getElementById('celebrateBtn').onclick = function() {
      showPage('page2');
      try{ document.getElementById('bdayMusic').play(); }catch(e){}
      createBalloons(); createConfetti();
      showBalloons(false); showConfetti(false);
    };

    // 2. Cake Cut Animation
    const cutCakeBtn = document.getElementById('cutCakeBtn');
    const cakeEmoji = document.getElementById('cakeEmoji');
    const candles = document.getElementById('candles');
    const toPhotoBtn = document.getElementById('toPhotoBtn');
    let cakeCut = false;
    cutCakeBtn.addEventListener('click', function(){
      if (cakeCut) return; cakeCut = true;
      cakeEmoji.style.transform = 'scale(0.7) rotate(-6deg)';
      setTimeout(()=> {
        Array.from(candles.querySelectorAll('.flame')).forEach(flame=>flame.style.opacity=0);
        cakeEmoji.innerText = '🍰🍰🍰🍰';
        cakeEmoji.style.transform = 'scale(1.05) rotate(3deg)';
        showBalloons(true); showConfetti(true);
        setTimeout(()=>{ toPhotoBtn.style.display = "inline-block"; }, 1200);
      }, 800);
      this.style.display = 'none';
      document.getElementById('cutHint').innerHTML = `<b style="color:#ff5fa2;">Yay! Enjoy your cake & party 🎈🎊</b>`;
    });

    // 3. Photo Gallery
    toPhotoBtn.addEventListener('click', function(){
      showPage('page3'); showBalloons(false); showConfetti(false);
      setTimeout(()=>{
        Array.from(document.querySelectorAll('.gallery-img')).forEach(img=>{
          img.style.opacity = "1";
          img.style.transform = "scale(1) translateY(0)";
        });
        document.getElementById('toNotesBtn').style.display = "inline-block";
      }, 2200);
    });

    // 4. To Special Notes
    document.getElementById('toNotesBtn').addEventListener('click', function(){
      showPage('stagePage');
      loadNote(0);
    });

    // Special Notes data
    const notes = [
      {
        color: 1,
        html: `
        <span style="font-size:1.5rem;">🌹</span>
        Count your life by smiles😊, not tears😭.<br>Count your age by friends, not years.<br>
        <b>HAPPY BIRTHDAY DEAR ❤</b>
        <span style="font-size:1.5rem;">🌹</span>
        `
      },
      {
        color: 2,
        html: `जन्मदिन की ढेर सारी शुभकामनाएं! भगवान तुम्हें इतनी लंबी उम्र दे कि तुम गिन भी ना पाव। (0/0 = ∞) 💝💝💝💝`
      },
      {
        color: 3,
        html: `आप हमेशा मुस्कुराते रहो, हर ख्वाहिश आपकी पूरी हो।<br>
        जीवन का हर कदम सफलता से भरा हो,<br>
        और आपका सफर प्यार और खुशियों से सजता रहे।<br>
        <span style="font-size:1.3rem;">💞💞💞🥰😊</span>`
      },
      {
        color: 1,
        html: `May your birthday be as amazing as you 🌹🌺💐🌻`
      },
      {
        color: 2,
        html: `बागों में फूलों की बहार हो जिंदगी मे खुशिया हजार हो<br>
        जिंदगी के हर दिन बेमिसाल हो चाहत कि चांदनी हो आपनो का प्यार हो।<br>
        चाहा हो जिंदगी मे वो सब वे सुमार हो मेहनत हो तारीफ हो आदर ओर सबका प्यार हो<br>
        दुनिया मे पहचान ओर बड़ा सा नाम हो मेरी ओर से तोफा मे बधाई हजार बार हो ! 🌸🌺🌺🌸`
      },
      {
        color: 3,
        html: `May this birthday be just the beginning of a year filled with happy memories 🏅🏆<br>
        Happy birthday 🎂 <span style="font-size:2.1rem;">🧸❤️❤️❤️</span>`
      }
    ];

    let noteIndex = 0;
    const stagePaper = document.getElementById('stagePaper');
    const noteContent = document.getElementById('noteContent');
    const nextNoteBtn = document.getElementById('nextNoteBtn');
    const prevNoteBtn = document.getElementById('prevNoteBtn');
    function loadNote(idx) {
      noteIndex = idx;
      let n = notes[noteIndex];
      noteContent.className = `note-square note-color-${n.color}`;
      noteContent.innerHTML = n.html;
      prevNoteBtn.style.display = noteIndex === 0 ? "none" : "inline-block";
      nextNoteBtn.innerText = (noteIndex === notes.length-1) ? "Transition" : "Next";
      stagePaper.classList.remove('scroll');
      void stagePaper.offsetWidth;
      stagePaper.classList.add('scroll');
    }
    nextNoteBtn.onclick = function(){
      if(noteIndex < notes.length-1) {
        loadNote(noteIndex+1);
      } else {
        showPage('transitionPage');
        showBalloons(false);
        showConfetti(false);
        updateAge();
      }
    };
    prevNoteBtn.onclick = function(){
      if(noteIndex > 0) loadNote(noteIndex-1);
    };

    // 5. TRANSITION PAGE (AGE)
    function updateAge() {
      // Simran's birth 8AM 08/09/2008
      let birth = new Date(Date.UTC(2008,8,8,2,30,0)); // UTC 8AM IST = 2:30 UTC
      let now = new Date();
      let diff = now - birth;
      let seconds = Math.floor(diff/1000);
      let minutes = Math.floor(seconds/60);
      let hours = Math.floor(minutes/60);
      let days = Math.floor(hours/24);
      let weeks = Math.floor(days/7);
      let months = Math.floor((now.getUTCFullYear()-2008)*12 + (now.getUTCMonth()-8));
      document.getElementById('ageDetail').innerHTML =
        `<span style="font-size:1.14em;color:#ff5fa2;font-family:Pacifico,cursive;">Simran's Journey So Far:</span><br>
        <span style="font-size:1.1em;color:#e83e8c;">
        <b>${months}</b> months<br>
        <b>${weeks}</b> weeks<br>
        <b>${days}</b> days<br>
        <b>${hours}</b> hours<br>
        <b>${minutes}</b> minutes<br>
        <b>${seconds}</b> seconds<br>
        </span>
        <span style="font-size:0.99em;color:#d10b72;">(since 8AM, 08/09/2008)</span>`;
    }
    document.getElementById('toQuizBtn').onclick = function(){
      showPage('quizPage');
      showBalloons(false); showConfetti(false);
      startQuiz();
    };

    // 6. QUIZ
    const quiz = [
      {
        q: "Now you become…?",
        o: ["18 yrs", "17 yrs", "60 😁 yrs", "1 😆 yr"]
      },
      {
        q: "How are you feeling now?",
        o:["Happy", "So happy 😊💓", "Sad 😑", "Nahi batongi"]
      },
      {
        q:"What do you do today?", o:["Cut cake","Go tour","Watch movie","Kuch nahi"]
      },
      {
        q:"If you could have any animal at your birthday party?",o:["Monkey 🙊","Horse 🦄","Elephant 🐘","Penguin 🐧"]
      },
      {
        q:"Agar tumhare birthday par ek superpower milti?",o:["Flying ✈","Time travel ⏳","Teleportation 🌍","Unlimited sweets 🍬"]
      },
      {
        q:"Aaj ka birthday theme song?",o:["Lofi","Slow Reverb","Party","Nagpuri or Bhojpuri"]
      },
      {
        q:"Birthday cake or ice cream first?",o:["Cake 🎂","Ice cream 🍦","Both 🤯","Don’t care 😎"]
      },
      {
        q:"Agar magic show ho, magician kaun hoga?",o:["Tum ✨","Friend 🧑‍🤝‍🧑","Teacher 👩‍🏫","Pet 🐶"]
      },
      {
        q:"Agar tum magician hoa toa kya karogi?",o:["Sabko satogi","Sabka bhala","Apna bhala","Kuch nahi"]
      },
      {
        q:"Tumhare birthday ka favorite snack?",o:["Pizza 🍕","Burger 🍔","Samosa 🥟","Sweets 🍩"]
      },
      {
        q:"Which memory of ours do you cherish most?",o:["School days","Trip together","Random late-night talks","All of them ❤"]
      }
    ];
    let quizIdx=0, quizAns=[];
    function startQuiz() {
      quizIdx=0; quizAns=[];
      showQuizQ();
    }
    function showQuizQ() {
      document.getElementById('quizFinalMsg').style.display="none";
      let q=quiz[quizIdx], quizQ=document.getElementById('quizQ'), quizOptions=document.getElementById('quizOptions');
      quizQ.innerHTML=q.q;
      quizOptions.innerHTML="";
      q.o.forEach((opt,i)=>{
        let btn=document.createElement('button');
        btn.className="quiz-option";
        btn.innerHTML=opt;
        btn.onclick=()=>{
          Array.from(quizOptions.children).forEach(b=>b.classList.remove('selected'));
          btn.classList.add('selected');
          quizAns[quizIdx]=opt;
          document.getElementById('quizNextBtn').style.display="inline-block";
        };
        quizOptions.appendChild(btn);
      });
      document.getElementById('quizNextBtn').style.display=quizAns[quizIdx]?"inline-block":"none";
      if(quizIdx===quiz.length-1) document.getElementById('quizNextBtn').innerText="Finish";
      else document.getElementById('quizNextBtn').innerText="Next";
    }
    document.getElementById('quizNextBtn').onclick = function() {
      if(!quizAns[quizIdx])return;
      if(quizIdx<quiz.length-1) {
        quizIdx++; showQuizQ();
      } else {
        document.getElementById('quizQ').innerHTML="";
        document.getElementById('quizOptions').innerHTML="";
        this.style.display="none";
        document.getElementById('quizFinalMsg').style.display="block";
        document.getElementById('quizFinalMsg').innerHTML="Nice, you play very well! ✅<br>All answers are correct!";
        setTimeout(()=>showPage('finalPage'),2200);
        setTimeout(()=>{showBalloons(true);showConfetti(true);},1500);
      }
    };

    // On Load
    window.onload = function() {
      showPage('page1');
      showBalloons(false);
      showConfetti(false);
      toPhotoBtn.style.display = 'none';
      document.getElementById('toNotesBtn').style.display = 'none';
    };
  </script>
</body>
</html>